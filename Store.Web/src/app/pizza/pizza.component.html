<div class="cart-page-container">
  <!-- Product List -->
  <div class="product-list">
    <h2 class="section-title">Available Pizzas</h2>
    <div class="pizza-item"  *ngIf="currentPizza == null">
      <img src="assets/Images/base.png" alt="Base Pizza" class="pizza-image" />
      <p class="pizza-description">Base - R50</p>
      <button (click)="startPizza()" class="btn add-to-cart">Base Pizza</button>
    </div>

    <div class="pizza-item"  *ngIf="currentPizza != null">
      <img src="assets/Images/cheese.png" alt="Add Cheese" class="pizza-image" />
      <p class="pizza-description">Cheese - R5</p>
      <button (click)="decorateCheese()" class="btn add-to-cart">Add Cheese</button>
    </div>
    <div class="pizza-item"  *ngIf="currentPizza != null">
      <img src="assets/Images/salami.png" alt="Add Salami" class="pizza-image" />
      <p class="pizza-description">Salami - R15</p>
      <button (click)="decorateSalami()" class="btn add-to-cart">Add Salami</button>
    </div>
    <div class="pizza-item"  *ngIf="currentPizza != null">
      <img src="assets/Images/tomato.png" alt="Add Tomato" class="pizza-image" />
      <p class="pizza-description">Tomato - R25</p>
      <button (click)="decorateTomato()" class="btn add-to-cart">Add Tomato</button>
    </div>
  </div>

  <div class="shopping-cart glassmorphism">
    <h2>Your Pizza</h2>
  
    <!-- Display message if no pizza is currently being customized -->
    <div *ngIf="currentPizza == null" class="empty-cart">Start Your Pizza</div>
    <!-- Display the current pizza details -->
    <div *ngIf="currentPizza != null" class="cart-item" >
      <div class="pizza-description">{{ currentPizza.GetIngredients() }}</div>
       <div class="pizza-holder">
        <div *ngFor="let item of currentPizza.GetIngredients().split(' ')" [ngClass]="item"></div>
       </div>
      <div>
        <button (click)="removeCurrentPizza()" class="btn remove-btn">Remove</button>
      </div>
    </div>
    <!-- Display total cost if there is a current pizza -->
    <div *ngIf="currentPizza != null">
      <h3>Total: R{{ currentPizza.GetCost() | number: '1.2-2' }}</h3>
    </div>
  
    <div class="cart-actions">
      <button (click)="completeOrder()" [disabled]="currentPizza === null" class="btn checkout-btn">Checkout</button>
      <button (click)="clearCart()" [disabled]="currentPizza === null" class="btn clear-btn">Clear Cart</button>
    </div>  
  </div>
<!-- Completed Orders Section -->
<div class="completed-orders">
  <h2 class="section-title">Completed Orders</h2>
  <div *ngIf="completedOrders.length === 0" class="empty-orders">No completed orders yet! üçï</div>
  
  <div *ngFor="let order of completedOrders; let j = index" class="order-card">
    <h3 class="order-title">Order {{ j + 1 }}</h3>

    <div class="order-details">
      <div class="completed-order-item">
        <div class="pizza-info">
          <p class="pizza-description">{{ order.pizza.GetIngredients() }}</p>
        </div>
      </div>
      
    <!-- Display dynamic pizza ingredients just like in the cart -->
    <div class="pizza-holder">
      <div *ngFor="let item of order.pizza.GetIngredients().split(' ')" [ngClass]="item"></div>
    </div>
    </div>

    <div class="order-total">
      <h4>Total: R{{ order.totalCost.toFixed(2) }}</h4>
    </div>
  </div>
</div>


